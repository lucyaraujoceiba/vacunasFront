{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-bootstrap/modal\";\nimport * as i2 from \"@vacunas/shared/services/vacunas.service\";\nimport * as i3 from \"../../../../shared/directivas/error-campos/directiva/mensaje-error-campos-submit.directive\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../../../shared/directivas/error-campos/directiva/mensaje-error-campos.directive\";\nimport * as i6 from \"../../../../shared/directivas/error-campos/directiva/mensaje-error-campos-contenedor.directive\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/router\";\n\nfunction VacunarComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵelementStart(6, \"div\", 3)(7, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function VacunarComponent_div_47_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n\n      const _r2 = i0.ɵɵreference(54);\n\n      return ctx_r8.registrarvacuna(_r2);\n    });\n    i0.ɵɵtext(8, \"Registrar vacuna\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Usuario: \", ctx_r0.nombreUsuario, \"\");\n  }\n}\n\nfunction VacunarComponent_div_52_th_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const head_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", head_r12, \" \");\n  }\n}\n\nfunction VacunarComponent_div_52_tr_8_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 28);\n    i0.ɵɵlistener(\"click\", function VacunarComponent_div_52_tr_8_td_17_Template_td_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const el_r13 = i0.ɵɵnextContext().$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n\n      const _r4 = i0.ɵɵreference(56);\n\n      return ctx_r15.aplicarVacuna(el_r13, _r4);\n    });\n    i0.ɵɵelementStart(1, \"button\");\n    i0.ɵɵtext(2, \"Aplicar\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction VacunarComponent_div_52_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 25)(1, \"th\", 26);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, VacunarComponent_div_52_tr_8_td_17_Template, 3, 0, \"td\", 27);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const el_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.estado);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.fechaAplicacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.dosis);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.tiempoEntreDosis);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.valor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(el_r13.subsidiada);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", el_r13.estado === \"pendiente\");\n  }\n}\n\nfunction VacunarComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"table\", 21)(4, \"thead\")(5, \"tr\");\n    i0.ɵɵtemplate(6, VacunarComponent_div_52_th_6_Template, 2, 1, \"th\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"tbody\");\n    i0.ɵɵtemplate(8, VacunarComponent_div_52_tr_8_Template, 18, 9, \"tr\", 23);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.mensaje);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.headElements);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.listaVacunasP);\n  }\n}\n\nfunction VacunarComponent_ng_template_53_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"h3\");\n    i0.ɵɵtext(2, \"Registrar vacuna\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function VacunarComponent_ng_template_53_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.modalService.hide();\n    });\n    i0.ɵɵelementStart(4, \"span\", 31);\n    i0.ɵɵtext(5, \" \\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function VacunarComponent_ng_template_53_Template_form_ngSubmit_7_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.registrarVacuna();\n    });\n    i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 33)(10, \"label\");\n    i0.ɵɵtext(11, \"Nombre Vacuna:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 34);\n    i0.ɵɵelement(13, \"input\", 35);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 2)(15, \"div\", 4)(16, \"label\");\n    i0.ɵɵtext(17, \"Estado:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 36)(19, \"select\", 37)(20, \"option\", 38);\n    i0.ɵɵtext(21, \"Aplicada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"option\", 39);\n    i0.ɵɵtext(23, \"Pendiente\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 2)(25, \"div\", 4)(26, \"label\");\n    i0.ɵɵtext(27, \"Dosis:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 36);\n    i0.ɵɵelement(29, \"input\", 40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 2)(31, \"div\", 4)(32, \"label\");\n    i0.ɵɵtext(33, \"valor:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 36);\n    i0.ɵɵelement(35, \"input\", 41);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 2)(37, \"div\", 4)(38, \"label\");\n    i0.ɵɵtext(39, \"Subsidiada:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 36)(41, \"div\");\n    i0.ɵɵelement(42, \"input\", 42);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(43, \"div\", 2)(44, \"div\", 4)(45, \"label\");\n    i0.ɵɵtext(46, \"Dosis pendientes?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"div\", 36)(48, \"div\");\n    i0.ɵɵelement(49, \"input\", 43);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(50, \"div\", 2)(51, \"div\", 4)(52, \"label\");\n    i0.ɵɵtext(53, \"Proxima dosis en: (meses):\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(54, \"div\", 36);\n    i0.ɵɵelement(55, \"input\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(56, \"div\", 2)(57, \"div\", 36)(58, \"button\", 45);\n    i0.ɵɵtext(59, \"Guardar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.vacunaForm);\n    i0.ɵɵadvance(51);\n    i0.ɵɵproperty(\"disabled\", !ctx_r3.vacunaForm.valid);\n  }\n}\n\nfunction VacunarComponent_ng_template_55_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"h3\");\n    i0.ɵɵtext(2, \"Aplicar vacuna\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function VacunarComponent_ng_template_55_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.modalService.hide();\n    });\n    i0.ɵɵelementStart(4, \"span\", 31);\n    i0.ɵɵtext(5, \" \\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function VacunarComponent_ng_template_55_Template_form_ngSubmit_7_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.aplicar();\n    });\n    i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 46)(10, \"label\");\n    i0.ɵɵtext(11, \"Nombre Vacuna:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 47);\n    i0.ɵɵelement(13, \"input\", 48);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 2)(15, \"div\", 4)(16, \"label\");\n    i0.ɵɵtext(17, \"Dosis:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 36);\n    i0.ɵɵelement(19, \"input\", 49);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 2)(21, \"div\", 4)(22, \"label\");\n    i0.ɵɵtext(23, \"Dosis pendientes?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 36)(25, \"div\");\n    i0.ɵɵelement(26, \"input\", 50);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(27, \"div\", 2)(28, \"div\", 4)(29, \"label\");\n    i0.ɵɵtext(30, \"Proxima dosis en: (meses):\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 36);\n    i0.ɵɵelement(32, \"input\", 51);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 2)(34, \"div\", 4)(35, \"label\");\n    i0.ɵɵtext(36, \"Estado:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(37, \"div\", 36)(38, \"select\", 52)(39, \"option\", 38);\n    i0.ɵɵtext(40, \"Aplicada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"option\", 39);\n    i0.ɵɵtext(42, \"Pendiente\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(43, \"div\", 2)(44, \"div\", 4)(45, \"label\");\n    i0.ɵɵtext(46, \"valor:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"div\", 36);\n    i0.ɵɵelement(48, \"input\", 53);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(49, \"div\", 2)(50, \"div\", 4)(51, \"label\");\n    i0.ɵɵtext(52, \"Subsidiada:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(53, \"div\", 36)(54, \"div\");\n    i0.ɵɵelement(55, \"input\", 54);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(56, \"div\", 2)(57, \"div\", 36)(58, \"button\", 55);\n    i0.ɵɵtext(59, \"Guardar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r5.vacunaActualizarForm);\n    i0.ɵɵadvance(51);\n    i0.ɵɵproperty(\"disabled\", !ctx_r5.vacunaActualizarForm.valid);\n  }\n}\n\nfunction VacunarComponent_ng_template_57_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"h3\");\n    i0.ɵɵtext(2, \"Registrar usuario\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function VacunarComponent_ng_template_57_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.modalService.hide();\n    });\n    i0.ɵɵelementStart(4, \"span\", 31);\n    i0.ɵɵtext(5, \" \\u00D7\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function VacunarComponent_ng_template_57_Template_form_ngSubmit_7_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.registrarUsuario();\n    });\n    i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 4)(10, \"label\");\n    i0.ɵɵtext(11, \"Tipo documento:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 36)(13, \"select\", 56)(14, \"option\", 6);\n    i0.ɵɵtext(15, \"Cedula ciudadania\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 7);\n    i0.ɵɵtext(17, \"Cedula extranjera\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"option\", 8);\n    i0.ɵɵtext(19, \"Pasaporte\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 9);\n    i0.ɵɵtext(21, \"Registro civil\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"option\", 10);\n    i0.ɵɵtext(23, \"Tarjeta de identidad\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(24, \"div\", 2)(25, \"div\", 4)(26, \"label\");\n    i0.ɵɵtext(27, \"Docuemnto:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 36);\n    i0.ɵɵelement(29, \"input\", 57);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 2)(31, \"div\", 4)(32, \"label\");\n    i0.ɵɵtext(33, \"Nombre:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(34, \"div\", 36);\n    i0.ɵɵelement(35, \"input\", 58);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 2)(37, \"div\", 4)(38, \"label\");\n    i0.ɵɵtext(39, \"Fecha Nacimiento:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(40, \"div\", 36);\n    i0.ɵɵelement(41, \"input\", 59);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 2)(43, \"div\", 4)(44, \"label\");\n    i0.ɵɵtext(45, \"Tipo sangre:\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(46, \"div\", 36);\n    i0.ɵɵelement(47, \"input\", 60);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"div\", 2)(49, \"div\", 3)(50, \"button\", 61);\n    i0.ɵɵtext(51, \"Guardar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"formGroup\", ctx_r7.registrarUsuarioForm);\n    i0.ɵɵadvance(43);\n    i0.ɵɵproperty(\"disabled\", !ctx_r7.registrarUsuarioForm.valid);\n  }\n}\n\nconst LONGITUD_MINIMA_PERMITIDA_DOCUMENTO = 5;\nconst LONGITUD_MAXIMA_PERMITIDA_DOCUMENTO = 15;\nconst LONGITUD_MINIMA_PERMITIDA_TIPO_SANGRE = 2;\nconst LONGITUD_MAXIMA_PERMITIDA_TIPO_SANGRE = 3;\nconst ESTADO_PENDIENTE = 'pendientes';\nconst ESTADO_APLICADAS = 'aplicadas';\nconst ESTADO_APLICADA = 'aplicada';\nconst MENSAJE_VACUNAS = 'La próxima fecha de vacunas es: ';\nconst MENSAJE_VACUNAS_B = ' y el valor a pagar es de: $';\nconst CEDULA = 'CC';\nexport let VacunarComponent = /*#__PURE__*/(() => {\n  class VacunarComponent {\n    constructor(modalService, vacunaService) {\n      this.modalService = modalService;\n      this.vacunaService = vacunaService;\n      this.mensaje = \"\";\n      this.resultadoBusqueda = ''; //El usuario no tiene vacunas registradas\n\n      this.tipoDoc = \"\";\n      this.documento = \"\";\n      this.nombreUsuario = \"\";\n      this.mostrar = false;\n      this.mostrarLista = false;\n      this.headElements = ['ID', 'Nombre', 'Estado', 'Fecha Aplicación', 'Dosis aplicada', 'Tiempo entre dosis', 'Valor', 'Subsidiada', ' '];\n    }\n\n    ngOnInit() {\n      this.tipoDoc = CEDULA;\n      this.construirFormularioConsultarUsuario();\n    }\n\n    buscar() {\n      this.tipoDoc = this.usuarioForm.get(\"id\").value;\n      this.documento = this.usuarioForm.get(\"numeroDocumento\").value;\n      this.mensaje = \"\";\n      this.idUsuario = null;\n      this.nombreUsuario = null;\n      this.buscarusuario();\n\n      if (this.usuarioForm.get(ESTADO_APLICADAS).value) {\n        this.buscarAplicadas();\n      } else {\n        this.buscarPendientes();\n      }\n    }\n\n    buscarAplicadas() {\n      this.vacunaService.consultarVacunasAplicadas(this.tipoDoc, this.documento, ESTADO_APLICADAS).subscribe(data => (this.listaVacunasP = data, this.idUsuario = this.listaVacunasP[0].idUsuario, this.mostrarLista = true));\n    }\n\n    buscarusuario() {\n      this.nombreUsuario = null;\n      this.vacunaService.consultarUsuario(this.tipoDoc, this.documento).subscribe(data => (this.nombreUsuario = data[0].nombre, this.idUsuario = data[0].id, console.log(this.nombreUsuario)));\n    }\n\n    buscarPendientes() {\n      this.mensaje = \"\";\n      this.vacunaService.consultarVacunasPendeintes(this.tipoDoc, this.documento, ESTADO_PENDIENTE).subscribe(data => (this.vacunasPendientes = data, this.listaVacunasP = this.vacunasPendientes.listaVacunas, this.idUsuario = this.listaVacunasP[0].idUsuario, this.mostrarLista = true, this.mensaje = MENSAJE_VACUNAS + this.vacunasPendientes.listaVacunas[0].fechaAplicacion + MENSAJE_VACUNAS_B + this.vacunasPendientes.valorTotal));\n    }\n\n    registrarvacuna(template) {\n      this.construirFormularioVacuna();\n      this.modalRef = this.modalService.show(template);\n    }\n\n    construirFormularioConsultarUsuario() {\n      this.usuarioForm = new FormGroup({\n        id: new FormControl(this.tipoDoc, [Validators.required]),\n        aplicadas: new FormControl(true, [Validators.required]),\n        numeroDocumento: new FormControl(this.documento, [Validators.required, Validators.minLength(LONGITUD_MINIMA_PERMITIDA_DOCUMENTO), Validators.maxLength(LONGITUD_MAXIMA_PERMITIDA_DOCUMENTO)])\n      });\n    }\n\n    construirFormularioVacuna() {\n      this.vacunaForm = new FormGroup({\n        nombre: new FormControl('', [Validators.required]),\n        estado: new FormControl(ESTADO_APLICADA, [Validators.required]),\n        dosis: new FormControl('', [Validators.required]),\n        tiempoEntreDosis: new FormControl('', [Validators.required]),\n        subsidiada: new FormControl(true, [Validators.required]),\n        valor: new FormControl(0, [Validators.required]),\n        dosisPendiente: new FormControl(false, [Validators.required]),\n        idUsuario: new FormControl(this.idUsuario, [Validators.required]),\n        id: new FormControl('')\n      });\n    }\n\n    construirFormularioActualizarVacuna(vacuna) {\n      this.vacunaActualizarForm = new FormGroup({\n        nombre: new FormControl(vacuna.nombre, [Validators.required]),\n        estado: new FormControl(vacuna.estado, [Validators.required]),\n        dosis: new FormControl(vacuna.dosis, [Validators.required]),\n        tiempoEntreDosis: new FormControl(vacuna.tiempoEntreDosis, [Validators.required]),\n        subsidiada: new FormControl(vacuna.subsidiada, [Validators.required]),\n        valor: new FormControl(vacuna.valor, [Validators.required]),\n        dosisPendiente: new FormControl(vacuna.dosisPendiente, [Validators.required]),\n        idUsuario: new FormControl(vacuna.idUsuario, [Validators.required]),\n        fechaAplicacion: new FormControl(vacuna.fechaAplicacion),\n        id: new FormControl(vacuna.id)\n      });\n    }\n\n    construirFormularioregistrarUsuario() {\n      this.registrarUsuarioForm = new FormGroup({\n        tipoIdentificacion: new FormControl(CEDULA, [Validators.required]),\n        numeroIdentificacion: new FormControl('', [Validators.required, Validators.minLength(LONGITUD_MINIMA_PERMITIDA_DOCUMENTO), Validators.maxLength(LONGITUD_MAXIMA_PERMITIDA_DOCUMENTO)]),\n        fechaNacimiento: new FormControl('', [Validators.required]),\n        tipoSangre: new FormControl('', [Validators.required, Validators.minLength(LONGITUD_MINIMA_PERMITIDA_TIPO_SANGRE), Validators.maxLength(LONGITUD_MAXIMA_PERMITIDA_TIPO_SANGRE)]),\n        nombre: new FormControl('', [Validators.required])\n      });\n    }\n\n    registrarVacuna() {\n      this.vacunaService.registrarVacuna(this.vacunaForm.value).subscribe(data => {\n        console.log(data);\n      });\n      this.modalService.hide();\n    }\n\n    aplicarVacuna(vacuna, template) {\n      this.construirFormularioActualizarVacuna(vacuna);\n      this.modalRef = this.modalService.show(template);\n    }\n\n    aplicar() {\n      this.modalService.hide();\n      this.vacunaService.aplicarVacuna(this.vacunaActualizarForm.value).subscribe(data => (console.log(data), this.buscarPendientes()));\n    }\n\n    registrarUsuarioshow(template) {\n      this.construirFormularioregistrarUsuario();\n      this.modalRef = this.modalService.show(template);\n    }\n\n    registrarUsuario() {\n      this.nombreUsuario = this.registrarUsuarioForm.get(\"nombre\").value;\n      this.tipoDoc = this.registrarUsuarioForm.get(\"tipoIdentificacion\").value;\n      this.documento = this.registrarUsuarioForm.get(\"numeroIdentificacion\").value;\n      this.usuarioForm.controls[\"numeroDocumento\"].setValue(this.documento);\n      this.usuarioForm.controls[\"id\"].setValue(this.tipoDoc);\n      this.vacunaService.guardarUsuario(this.registrarUsuarioForm.value).subscribe(data => (this.idUsuario = data.valor, this.buscarAplicadas()));\n      this.modalService.hide();\n    }\n\n  }\n\n  VacunarComponent.ɵfac = function VacunarComponent_Factory(t) {\n    return new (t || VacunarComponent)(i0.ɵɵdirectiveInject(i1.BsModalService), i0.ɵɵdirectiveInject(i2.VacunaService));\n  };\n\n  VacunarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VacunarComponent,\n    selectors: [[\"app-vacunar\"]],\n    decls: 60,\n    vars: 5,\n    consts: [[1, \"container\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-sm-2\"], [1, \"col-sm-4\"], [\"id\", \"tipoDocUsuario\", \"name\", \"tipoDocUsuario\", \"formControlName\", \"id\", 1, \"form-select\", \"form-control\"], [\"value\", \"CC\", \"selected\", \"\"], [\"value\", \"CE\"], [\"value\", \"PP\"], [\"value\", \"RC\"], [\"value\", \"TI\"], [\"validar\", \"\", \"type\", \"text\", \"id\", \"numDocumento\", \"name\", \"numeroDocumento\", \"placeholder\", \"N\\u00FAmero documento\", \"formControlName\", \"numeroDocumento\", 1, \"form-control\"], [\"type\", \"checkbox\", \"id\", \"aplicadas\", \"name\", \"aplicadas\", \"formControlName\", \"aplicadas\", \"checked\", \"\"], [\"id\", \"btnBuscarVacunasId\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [\"id\", \"btnRegistrarusuario\", 1, \"link-primary\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"template\", \"\"], [\"templateActualizar\", \"\"], [\"templateRegistrarUsuario\", \"\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"mdbTable\", \"\", \"responsive\", \"true\", 1, \"table\"], [\"scope\", \"col\", 4, \"ngFor\", \"ngForOf\"], [\"mdbTableCol\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"scope\", \"col\"], [\"mdbTableCol\", \"\"], [\"scope\", \"row\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [1, \"modal-header\"], [\"type\", \"button\", \"arial-label\", \"Close\", 1, \"close\", \"pull-right\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"col-sm-2\", \"col-md-4\"], [1, \"col-sm-4\", \"col-md-8\"], [\"validar\", \"\", \"type\", \"text\", \"id\", \"nombreVacuna\", \"name\", \"aplicadas\", \"formControlName\", \"nombre\", 1, \"form-control\"], [1, \"col-sm-8\"], [\"id\", \"estadoVacuna\", \"name\", \"estado\", \"formControlName\", \"estado\", 1, \"form-select\", \"form-control\"], [\"value\", \"aplicada\", \"selected\", \"\"], [\"value\", \"pendiente\"], [\"validar\", \"\", \"type\", \"number\", \"id\", \"dosisVacuna\", \"name\", \"dosis\", \"placeholder\", \"N\\u00FAmero de dosis\", \"formControlName\", \"dosis\", 1, \"form-control\"], [\"validar\", \"\", \"type\", \"number\", \"id\", \"valorVacuna\", \"name\", \"valor\", \"formControlName\", \"valor\", 1, \"form-control\"], [\"type\", \"checkbox\", \"id\", \"subsidiadaVacuna\", \"name\", \"subsidiada\", \"formControlName\", \"subsidiada\", \"checked\", \"\"], [\"type\", \"checkbox\", \"id\", \"dosisPendientesVacuna\", \"name\", \"dosisPendientes\", \"formControlName\", \"dosisPendiente\", \"checked\", \"\"], [\"validar\", \"\", \"type\", \"number\", \"id\", \"tiempoDosisVacuna\", \"name\", \"tiempoDosis\", \"formControlName\", \"tiempoEntreDosis\", 1, \"form-control\"], [\"id\", \"btnGuardarVacuna\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"col-sm-2\", \"col-4\"], [1, \"col-sm-4\", \"col-8\"], [\"readonly\", \"\", \"type\", \"text\", \"id\", \"aplicadas\", \"name\", \"aplicadas\", \"formControlName\", \"nombre\", 1, \"form-control\"], [\"readonly\", \"\", \"type\", \"number\", \"id\", \"dosis\", \"name\", \"dosis\", \"placeholder\", \"N\\u00FAmero de dosis\", \"formControlName\", \"dosis\", 1, \"form-control\"], [\"readonly\", \"\", \"type\", \"text\", \"id\", \"dosisPendientes\", \"name\", \"dosisPendientes\", \"formControlName\", \"dosisPendiente\", 1, \"form-control\"], [\"readonly\", \"\", \"type\", \"number\", \"id\", \"tiempoDosis\", \"name\", \"tiempoDosis\", \"formControlName\", \"tiempoEntreDosis\", 1, \"form-control\"], [\"id\", \"estado\", \"name\", \"estado\", \"formControlName\", \"estado\", 1, \"form-select\", \"form-control\"], [\"validar\", \"\", \"type\", \"number\", \"id\", \"valor\", \"name\", \"valor\", \"formControlName\", \"valor\", 1, \"form-control\"], [\"type\", \"checkbox\", \"id\", \"subsidiada\", \"name\", \"subsidiada\", \"formControlName\", \"subsidiada\", \"checked\", \"\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"id\", \"tipoDocUsuarioregistro\", \"name\", \"tipoDocUsuario\", \"formControlName\", \"tipoIdentificacion\", 1, \"form-select\", \"form-control\"], [\"validar\", \"\", \"type\", \"text\", \"id\", \"numDocumentoRegistro\", \"name\", \"numeroDocumento\", \"placeholder\", \"N\\u00FAmero documento\", \"formControlName\", \"numeroIdentificacion\", 1, \"form-control\"], [\"validar\", \"\", \"type\", \"text\", \"id\", \"nombreusuarioRegistro\", \"name\", \"aplicadas\", \"formControlName\", \"nombre\", 1, \"form-control\"], [\"validar\", \"\", \"type\", \"date\", \"id\", \"fechanac\", \"name\", \"aplicadas\", \"formControlName\", \"fechaNacimiento\", 1, \"form-control\"], [\"validar\", \"\", \"type\", \"text\", \"id\", \"tipoSangre\", \"name\", \"aplicadas\", \"formControlName\", \"tipoSangre\", 1, \"form-control\"], [\"id\", \"btnRegistrarUsuarioGuardar\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"]],\n    template: function VacunarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r27 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Mis Vacunas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function VacunarComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.buscar();\n        });\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"label\");\n        i0.ɵɵtext(7, \"Tipo documento:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 4)(9, \"select\", 5)(10, \"option\", 6);\n        i0.ɵɵtext(11, \"Cedula ciudadania\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"option\", 7);\n        i0.ɵɵtext(13, \"Cedula extranjera\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"option\", 8);\n        i0.ɵɵtext(15, \"Pasaporte\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"option\", 9);\n        i0.ɵɵtext(17, \"Registro civil\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"option\", 10);\n        i0.ɵɵtext(19, \"Tarjeta de identidad\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(20, \"div\", 2)(21, \"div\", 3)(22, \"label\");\n        i0.ɵɵtext(23, \"Docuemnto:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 4);\n        i0.ɵɵelement(25, \"input\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 2)(27, \"div\", 3)(28, \"label\");\n        i0.ɵɵtext(29, \"Aplicadas?:\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"div\", 4);\n        i0.ɵɵelement(31, \"input\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(32, \"br\");\n        i0.ɵɵelementStart(33, \"div\", 2);\n        i0.ɵɵelement(34, \"div\", 3);\n        i0.ɵɵelementStart(35, \"div\", 3)(36, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function VacunarComponent_Template_button_click_36_listener() {\n          return ctx.buscar();\n        });\n        i0.ɵɵtext(37, \"Buscar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 2);\n        i0.ɵɵelement(41, \"div\", 3);\n        i0.ɵɵelementStart(42, \"div\", 3)(43, \"label\", 14);\n        i0.ɵɵlistener(\"click\", function VacunarComponent_Template_label_click_43_listener() {\n          i0.ɵɵrestoreView(_r27);\n\n          const _r6 = i0.ɵɵreference(58);\n\n          return ctx.registrarUsuarioshow(_r6);\n        });\n        i0.ɵɵtext(44, \"Registrar usuario\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(45, \"br\")(46, \"br\");\n        i0.ɵɵtemplate(47, VacunarComponent_div_47_Template, 9, 1, \"div\", 15);\n        i0.ɵɵelement(48, \"br\");\n        i0.ɵɵelementStart(49, \"div\")(50, \"label\");\n        i0.ɵɵtext(51);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(52, VacunarComponent_div_52_Template, 9, 3, \"div\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(53, VacunarComponent_ng_template_53_Template, 60, 2, \"ng-template\", null, 17, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(55, VacunarComponent_ng_template_55_Template, 60, 2, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(57, VacunarComponent_ng_template_57_Template, 52, 2, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelement(59, \"router-outlet\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.usuarioForm);\n        i0.ɵɵadvance(33);\n        i0.ɵɵproperty(\"disabled\", !ctx.usuarioForm.valid);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", ctx.nombreUsuario !== null && ctx.nombreUsuario !== \"\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.resultadoBusqueda);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarLista);\n      }\n    },\n    directives: [i3.MensajeErrorCamposSubmitDirective, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.SelectControlValueAccessor, i5.MensajeErrorCamposDirective, i4.NgControlStatus, i4.FormControlName, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i6.MensajeErrorCamposContenedorDirective, i4.CheckboxControlValueAccessor, i7.NgIf, i7.NgForOf, i4.NumberValueAccessor, i8.RouterOutlet],\n    styles: [\"\"]\n  });\n  return VacunarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}